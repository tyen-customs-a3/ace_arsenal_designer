<!DOCTYPE html>
<html>
<head>
    <title>Test Server Access</title>
</head>
<body>
    <h2>Testing File Access</h2>
    <div id="results"></div>
    
    <script>
        async function testFileAccess() {
            const results = document.getElementById('results');
            results.innerHTML = '<p>Testing file access...</p>';
            
            // Test if we can fetch a config file
            const testFiles = [
                'data/addons/a3/weapons_f/config.cpp',
                'workers/parser.worker.js',
                'services/DataService.js'
            ];
            
            for (const file of testFiles) {
                try {
                    const response = await fetch(file);
                    if (response.ok) {
                        const content = await response.text();
                        results.innerHTML += `<p style="color: green;">✅ ${file} - ${content.length} bytes</p>`;
                    } else {
                        results.innerHTML += `<p style="color: red;">❌ ${file} - HTTP ${response.status}</p>`;
                    }
                } catch (error) {
                    results.innerHTML += `<p style="color: red;">❌ ${file} - ${error.message}</p>`;
                }
            }
            
            // Test worker creation
            try {
                const worker = new Worker('workers/parser.worker.js', { type: 'module' });
                results.innerHTML += `<p style="color: green;">✅ Worker created successfully</p>`;
                worker.terminate();
            } catch (error) {
                results.innerHTML += `<p style="color: red;">❌ Worker creation failed: ${error.message}</p>`;
            }
            
            results.innerHTML += `<p><strong>Current URL:</strong> ${window.location.href}</p>`;
            results.innerHTML += `<p><strong>Protocol:</strong> ${window.location.protocol}</p>`;
        }
        
        testFileAccess();
    </script>
</body>
</html>